<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&display=swap" rel="stylesheet">
  <title>Admin</title>
  <style>
    @import url("/style/adminPartials.css");
    @import url("/style/admin.css");
    @import url("/style/adminAddProducts.css");
  </style>
</head>

<body>
  <%- include('./partials/header.ejs') %>
  <section class="nav wrapper">
    <div class="container">
      <nav>
        <ul>
          <li data-url="/admin" onclick="goToendPoint(this)"><a href="#dashboard"><i data-lucide="layout-dashboard"></i> <b>Dashboard</b></a></li>
          <li data-url="/admin/orders" onclick="goToendPoint(this)"><a href="#orders"><i data-lucide="shopping-bag"></i> <b>Orders</b></a></li>
          <li class="active" data-url="/admin/products" onclick="goToendPoint(this)"><a href="#products"><i data-lucide="package"></i> <b>Products</b></a></li>
          <li data-url="/admin/categories" onclick="goToendPoint(this)"><a href="#categories"><i data-lucide="grid"></i> <b>Categories</b></a></li>
          <li data-url="/admin/customers" onclick="goToendPoint(this)"><a href="#customers"><i data-lucide="users"></i> <b>Customers</b></a></li>
          <li data-url="/admin/reports" onclick="goToendPoint(this)"><a href="#reports"><i data-lucide="bar-chart-2"></i> <b>Reports</b></a></li>
          <li data-url="/admin/coupons" onclick="goToendPoint(this)"><a href="#coupons"><i data-lucide="ticket"></i> <b>Coupons</b></a></li>
          <li data-url="/admin/inbox" onclick="goToendPoint(this)"><a href="#inbox"><i data-lucide="inbox"></i> <b>Inbox</b></a></li>
          <li data-url="/admin/transactions" onclick="goToendPoint(this)"><a href="#transactions"><i data-lucide="credit-card"></i> <b>Transactions</b></a></li>
          <li data-url="/admin/adminrole" onclick="goToendPoint(this)"><a href="#adminrole"><i data-lucide="shield"></i> <b>Admin Role</b></a></li>
        </ul>
      </nav>
      <div class="sections">
        <section id="products" class="show">
          <header>
            <h1>Add Product</h1>
            <button type="button">Export</button>
          </header>
          <form action="" method="POST">
            <section>
              <label for="productName">Product Name</label><br>
              <input id="productName" type="text" name="productName" placeholder="Enter product name" required /><br>

              <label for="description">Description</label><br>
              <textarea id="description" name="description" placeholder="Enter product description" rows="4"></textarea><br>

              <label for="brand">Brand</label><br>
              <input id="brand" type="text" name="brand" placeholder="Enter brand name" /><br>

              <label for="category">Category</label><br>
              <input id="category" type="text" name="category" placeholder="Enter category" /><br>

              <label for="style">Style</label><br>
              <input id="style" type="text" name="style" placeholder="Enter style" /><br>

              <label for="targetedAudience">Target Audience (comma separated)</label><br>
              <input id="targetedAudience" type="text" name="targetedAudience" placeholder="E.g., Men, Women, Kids" /><br>

              <label for="tags">Tags (comma separated)</label><br>
              <input id="tags" type="text" name="tags" placeholder="E.g., casual, summer, cotton" /><br>

              <button type="submit">Submit Product</button>
            </section>
            <section>
              <h3>Variants</h3>
              <div id="variantsContainer">
              </div>
              <div class="field"><button type="button" onclick="addVariant()">Add Variant</button></div>
            </section>
          </form>
        </section>
      </div>
    </div>
  </section>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    const navItems = document.querySelectorAll(".container nav ul li");
    const sections = document.querySelectorAll(".sections section");

    navItems.forEach((item) => {
      item.addEventListener("click", (e) => {
        e.preventDefault();

        navItems.forEach((i) => i.classList.remove("active"));
        item.classList.add("active");

        const link = item.querySelector("a");
        const targetId = link.getAttribute("href").substring(1);
      });
    });

    function goToendPoint(e) {
      window.location.href = `${e.dataset.url}`;
    }

    lucide.createIcons();
  </script>
  <script>
    let variantIndex = 0;

    function addVariant() {
      const container = document.getElementById('variantsContainer');
      const index = variantIndex++;

      const html = `
    <div class="variant" id="variant${index}">
      <h4>Variant ${index + 1}</h4>

      <div class="field">
        <label class="product-image-lable" for="images${index}">Images</label>
        <input id="images${index}" type="file" name="variants[${index}][images]" multiple accept="image/*" />
      </div>

      <div class="field">
        <label for="price${index}">Price</label>
        <input id="price${index}" type="number" name="variants[${index}][price]" placeholder="Enter price" required />
      </div>

      <div class="field">
        <label for="discountedPrice${index}">Discounted Price</label>
        <input id="discountedPrice${index}" type="number" name="variants[${index}][discountedPrice]" placeholder="Optional discounted price" />
      </div>

      <div class="field">
        <label for="color${index}">Color</label>
        <input id="color${index}" type="text" name="variants[${index}][color]" placeholder="E.g., Blue, Red" />
      </div>

      <div class="field">
        <label for="sizes${index}">Sizes (comma separated)</label>
        <input id="sizes${index}" type="text" name="variants[${index}][sizes]" placeholder="E.g., S, M, L, XL" />
      </div>

      <div class="field">
        <label for="stock${index}">Stock Quantity</label>
        <input id="stock${index}" type="number" name="variants[${index}][stock]" placeholder="Enter stock quantity" />
      </div>
    </div>
  `;
      container.insertAdjacentHTML('beforeend', html);
    }

    addVariant();
  </script>


</body>

</html>