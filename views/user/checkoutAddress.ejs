<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style/partials.css">
  <link rel="stylesheet" href="/style/checkoutAddress.css">
  <title>Checkout</title>
</head>

<body>
  <%- include('./partials/header.ejs') %>
  <main>
    <h1>Shipping Address</h1>
    <section class="checkout-container">
      <div class="content-area">
        <div class="address-grid">
          <label class="address-card">
            <input type="radio" name="shipping-address" value="robert" checked>
            <div class="card-content">
              <h2>Robert Wills</h2>
              <!-- Using <br> for mock multi-line address formatting -->
              <p class="address-details">4517 Washinton Ave, Manchester,<br>Kentucky , 394967</p>
              <p class="phone-number">
                <i data-lucide="phone"></i> <span>(206) 5557398213</span>
              </p>
            </div>
            <div class="actions">
              <button class="edit"><i data-lucide="square-pen"></i> <b>Edit</b></button>
              <button class="delete"><i data-lucide="trash-2"></i> <b>Delete</b></button>
            </div>
            <div class="custom-radio-checkmark">
              <i data-lucide="check"></i>
            </div>
          </label>

          <label class="address-card">
            <input type="radio" name="shipping-address" value="john">
            <div class="card-content">
              <h2>John Caleb</h2>
              <p class="address-details">6575 California, Silver Lake,<br>Kentucky , 26967</p>
              <p class="phone-number">
                <i data-lucide="phone"></i> <span>(206) 5557398213</span>
              </p>
            </div>
            <div class="actions">
              <button class="edit"><i data-lucide="square-pen"></i> <b>Edit</b></button>
              <button class="delete"><i data-lucide="trash-2"></i> <b>Delete</b></button>
            </div>
            <div class="custom-radio-checkmark">
              <i data-lucide="check"></i>
            </div>
          </label>

          <label class="address-card">
            <input type="radio" name="shipping-address" value="william">
            <div class="card-content">
              <h2>William Mark</h2>
              <p class="address-details">7890 Elm St, Apartment 3B,<br>Miami, Florida, 33101</p>
              <p class="phone-number">
                <i data-lucide="phone"></i> <span>(305) 1234567890</span>
              </p>
            </div>
            <div class="actions">
              <button class="edit"><i data-lucide="square-pen"></i> <b>Edit</b></button>
              <button class="delete"><i data-lucide="trash-2"></i> <b>Delete</b></button>
            </div>
            <div class="custom-radio-checkmark">
              <i data-lucide="check"></i>
            </div>
          </label>

          <label class="address-card">
            <input type="radio" name="shipping-address" value="luke">
            <div class="card-content">
              <h2>Luke Wain</h2>
              <p class="address-details">4517 Washinton Ave, Manchester,<br>Kentucky , 394967</p>
              <p class="phone-number">
                <i data-lucide="phone"></i> <span>(206) 5557398213</span>
              </p>
            </div>
            <div class="actions">
              <button class="edit"><i data-lucide="square-pen"></i> <b>Edit</b></button>
              <button class="delete"><i data-lucide="trash-2"></i> <b>Delete</b></button>
            </div>
            <div class="custom-radio-checkmark">
              <i data-lucide="check"></i>
            </div>
          </label>
        </div>

        <div class="bottom-actions">
          <button class="deliver-here-btn">Deliver Here</button>
          <button class="add-new-btn"><i data-lucide="plus"></i> Add New Address</button>
        </div>
      </div>

      <aside class="summary-area">
        <div class="summary-item">
          <span class="label">Subtotal</span>
          <span class="value">$565</span>
        </div>
        <div class="summary-item">
          <span class="label">Delivery Fee</span>
          <span class="value">$15</span>
        </div>
        <div class="summary-item discount">
          <span class="label">Discount</span>
          <span class="value">-$50</span>
        </div>
        <hr>
        <div class="summary-item total">
          <span class="label">Total</span>
          <span class="value">$530</span>
        </div>
      </aside>
    </section>
  </main>

  <script>
    document.querySelectorAll('input[name="shipping-address"]').forEach(radio => {
      radio.addEventListener('change', (e) => {
        document.querySelectorAll('.address-card').forEach(card => {
          card.classList.remove('selected');
        });
        if (e.target.checked) {
          e.target.closest('.address-card').classList.add('selected');
        }
      });
    });

    const initiallyChecked = document.querySelector('input[name="shipping-address"]:checked');
    if (initiallyChecked) {
      initiallyChecked.closest('.address-card').classList.add('selected');
    }

    lucide.createIcons();
  </script>
  <%- include('./partials/footer.ejs') %>
</body>

</html>